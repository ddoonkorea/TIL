2025.08.08

SDI는 Single Document Interface 단일 문서 (순서를 잘 알아야함)
흐름에 올라타면된다. 

MyList, UserData는 데이터를 의미하고, 싱글문서에서 Document에 해당한다.

View는 Document를 표시함.

CWinApp(Process, Thread)→ CDocument(Data) → CFrameWnd(GUI-Frame) → CView(GUI-View) 순으로 만들어진다.

지워질때는 UI → 데이터 → 응용프로그램 순으로 Destory

응용프로그램 객체가 만들어지고, 데이터 로딩을 한 후에 UI에 적용하는 구조

메시지맵은 하나의 메시지에 하나의 처리기가 붙는것이고, 메시지는 WM_Create 이런식, 처리기는 OnCreate 이런식이다. Win32 API의 Switch-Case 를 대체함

삭제할때는 헤더파일, 메시지맵, 처리기함수 이렇게 3군데에서 삭제해야한다.

## 라우팅 우선순위

만약 하나의 버튼에 두군데에서 이벤트 처리기를 추가했다고 가정해보자.

첫번째로 Frame윈도우에 추가하고, 두번째로 View클래스에 추가했을 때 결과는 View클래스에서 출력됐다. 이유는 메시지 라우팅 우선순위가 View가 Frame보다 더 높기 때문이다.

따라서 View에 먼저 도달하기 때문에 Frame까지 가지않는다.

PostMessage()함수를 사용하면 메시지큐에 저장이되고, 하나씩 메시지를 꺼내오는 구조가 유지된다.

그러나 SendMessage()함수는 메시지큐를 거치지않고 바로 처리기 함수를 호출한다.

PostMessage를 사용하자.